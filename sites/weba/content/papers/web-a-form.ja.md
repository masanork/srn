---
title: "Web/A Form: アカウント管理不要、ファイルベースの業務アプリケーション基盤"
layout: weba
author: "Web/A Project"
description: "多数の組織への調査や年1回の申請など、SaaSのアカウントモデルが不向きな業務領域を「ファイル」の力で効率化する Web/A Form の提案。"
---

# Web/A Form: SaaSの間隙を埋める、持続可能なデータ収集プロセス

## 1. はじめに：SaaSモデルの限界と「隙間」の業務

業務のクラウド化が進み、固定メンバーが日々利用する基幹業務やコミュニケーションツールにおいて、SaaS（Software as a Service）は最適解となった。
しかし、その一方で「SaaSモデルがなじまない業務」も明確になりつつある。
特に、**不特定多数の組織に対する調査や、頻度の低い申請業務**において、IDベースの課金モデルやアカウント管理の手間が、デジタルの恩恵を阻害している。

### 具体的な課題：だれにIDを渡せばよいのか？

例えば、自治体が管轄内の数千の事業所に対して「実態調査」を行うケースを考える。
システム化のためにクラウド・フォームを採用しようとすると、以下の壁に直面する。

- **担当者の特定困難**: 照会の発出元は、相手組織の「誰」が回答担当者かを知らない。人事異動で担当者は毎年のように変わる場合もある。そのたびに「ID発行依頼」を受け付け、管理するのは現実的ではない。
- **組織内コラボレーションの壁**: 1つの調査票に回答するために、経理担当、現場責任者、法務担当など、組織内の複数人が関与する場合がある。1つのIDを使い回すのはセキュリティリスクがあり、かといって全員分のIDを発行するのはコストも手間もかかる。
- **コスト対効果の不均衡**: 「年に1回」しか提出しない書類のために、年間を通じたサブスクリプション費用を支払うことは、財政的に正当化しにくい。

Web/A Form は、こうした**「SaaSの隙間（エアポケット）」**にある業務を、最もシンプルで汎用的な技術——**HTMLファイル**——で解決する提案である。

---

## 2. Web/A Form とは何か？

Web/A Form は、単一の HTML ファイルとして動作する、サーバーレスなフォームアプリケーションである。
専用のランタイムや閲覧ソフトは不要。ブラウザさえあれば、PCでもタブレットでも動作する。

### 2.1. 仕組み：ファイルだから、自由になれる

1. **配布 (Distribute)**: 管理者は「フォーム定義（Markdown）」から HTML ファイルを生成する。これをメール添付やWeb公開で配布する。「誰が担当か」を知る必要はなく、組織の代表窓口にファイルを投げるだけで済む。
2. **回覧・入力 (Circulate & Input)**: 受け取った組織内では、ファイルをメールやチャットで自由に回覧できる。「経理部分はAさん、現場部分はBさん」といった連携も、ファイルをリレーするだけで完結する。アカウント設定は一切不要である。
3. **保存 (Freeze & Bake)**: 入力が完了したら「保存」ボタンを押す。アプリケーションは現在の入力値を HTML 属性として焼き付け（Bake）、スクリプトを無効化した**「静的な Web/A 文書」**として再出力する。
4. **提出 (Submit)**: 保存されたファイルを、指定された方法（メール返信やアップロードフォーム）で提出する。

### 2.2. Web/A Maker: 誰でも作れるフォーム

Markdown ベースの定義ファイルにより、高度なバリデーションや計算式を含むフォームを容易に作成できる。
行政の複雑な申請書から長期計画策定まで、あらゆる帳票をデジタル化可能である。

### 2.3. 既存資産からの高速移行：AIによる変換

組織内には「紙Excel」と呼ばれる大量の帳票資産が眠っている。これらの移行コストを最小化するために、**LLM (大規模言語モデル)** の活用を推奨する。

1. **テキスト化**: Microsoft `markitdown` 等のツールで、Excelファイルを汎用的なMarkdownに変換する。
2. **Web/A化**: LLMに対し「このMarkdownをWeb/A記法に変換せよ」と指示する。
3. **ロジック実装**: LLMは表の構造から意図を読み取り、`[calc:sum]` のような計算式や、必須入力チェックを自動的に提案・実装する。
このプロセスにより、手作業での再設計を行うことなく、既存の業務フローを維持したまま、媒体を「Excel」から「Web/A」へスムーズに移行できる。

> **実践プロンプト：フォーム変換（コピペ用）**
>
> 以下のルール（Web/A Syntax）に従って、後述する Markdown の表を Web/A Form 形式に変換してください。
>
> **Web/A Syntax ルール**:
>
> 1. 入力欄は `[type:key (attrs)]` の形式で埋め込む。
>    - テキスト: `[text:user_name (label="氏名")]`
>    - 数値: `[number:amount (placeholder="0")]`
>    - 日付: `[date:entry_date]`
> 2. 計算式は `calc` タイプを使用する。
>    - 例: `[calc:subtotal (formula="price * quantity")]`
>    - 合計: `[calc:total (formula="SUM(subtotal)")]`
> 3. 元の表の構造（ヘッダーや列）は維持する。
>
> **変換対象のMarkdown**:
> (ここに markitdown 等の出力を貼り付け)

---

## 3. Web/A Form が提供する3つの価値

### 3.1. Zero Admin (管理コストの極小化)

Web/A Form は、利用にあたってユーザー登録やログインを必要としない。
「ファイルを送る」こと自体が、アプリケーションへのアクセス権の付与と同義になる。
これにより、発出元は膨大なID管理業務から解放され、回答側も「パスワードを忘れた」「担当者が変わってログインできない」といったトラブルから解放される。

### 3.2. Machine Readable First (データ入力の民主化)

Excelファイルでの調査票回収で起きがちな「セル結合によるデータ崩れ」や「勝手な行追加による集計不能」は起きない。
Web/A Form は、見た目は人間が見慣れた帳票だが、裏側には厳格な構造化データ (JSON-LD) が埋め込まれている。
回収したファイルからスクリプトで一括してデータを抽出でき、RPAや基幹システムへの連携もスムーズである。

### 3.3. Logic Embedded (Excelの利便性をWeb標準で)

現場がExcelを好む理由は、その場で見栄えを整えられ、計算もできる機能性にある。
Web/A Form は、Web標準技術（HTML/CSS/JS）でこれを再現・強化する。

- **自動計算**: 合計や消費税計算などをリアルタイムに実行。入力ミスを未然に防ぐ。
- **動的テーブル**: 行の追加・削除が自由自在。
- **マスター参照**: 外部データを埋め込み、数千の選択肢からサジェスト入力が可能。

---

## 3.4. オプション暗号化（L2 Encryption）

Web/A Form は、**任意オプションとして L2（回答データ）を暗号化**できる。これにより、フォームの提出ファイルが第三者に渡っても、**受領者の鍵がない限り中身は読めない**。  
暗号化はオン/オフを選べる設計であり、既存の運用を壊さずに機密性が必要なフォームだけを保護できる。

**実現できること**:
- 回答データの秘匿（受領者のみが復号可能）
- テンプレートとの強い紐付け（回答の差し替え攻撃を抑止）
- PQC（ML-KEM）への段階的移行に備えた設計

暗号化の詳細な仕様と使い方は、`Discussion Paper: Web/A Layer 2 Encryption` にまとめる。

---

## 4. 比較：業務特性に応じた使い分け

| 特徴 | Web/A Form | 固定業務向けSaaS | 一般的なアンケートフォーム |
|---|---|---|---|
| **最適な対象** | **不特定多数の組織、低頻度業務** | 特定の従業員、日常業務 | コンシューマー向け簡易調査 |
| **ID管理** | **不要 (ファイル依存)** | 必須 (厳格な管理) | 不要 (ただし途中保存困難) |
| **作業分担** | **容易 (ファイル回覧)** | ID単位での権限設定が必要 | 原則1人での回答 |
| **コスト構造** | **作成費のみ (ランニング0)** | ユーザー数 × 月額 | 回答数従量 or 定額 |
| **データ構造** | **JSON-LD (標準化)** | サービス固有DB | CSV (フラットデータ) |

---

## 5. データの回収と集計戦略

ファイルとして分散したデータを、いかに効率的に統合するか。Web/A Form はそのための「インターフェース」を内包している。

### 5.1. ローカル・バッチ処理（小規模・個人向け）

数百件程度のファイルであれば、特定のフォルダに集約し、単純なスクリプト（PythonやNode.js）を実行するだけでよい。
Web/A ファイルは標準的な JSON-LD を含んでいるため、複雑なスクレイピングは不要である。ごく短いコードで、すべてのファイルを読み込み、1つの CSV や Excel ファイルに変換できる。

**CSVフラット化の扱い**:
- 集計時は JSON を `.` 区切りでフラット化（配列は `list[0].v` 形式）。
- Excel で直接開ける利点を優先し、データ列として展開する。
- 必要に応じて、生JSONを `_json` 列に同梱できる（後述のオプション）。

**CLI例**:
```
bun src/form/aggregator.ts ./submissions --output output.csv --include-json
```

### 5.2. ドロップ・ゾーン（中規模・組織向け）

メール収集が煩雑な場合、シンプルな「アップロード専用サイト（ドロップ・ゾーン）」を用意する。
ユーザーは作成した HTML ファイルをドラッグ＆ドロップするだけで提出が完了する。
サーバー側では、受け取った HTML から即座に JSONデータを抽出し、データベースに格納する。Web/A はバリデーション済みデータしか出力しないため、サーバー側のチェック処理も大幅に簡素化できる。

### 5.3. AI エージェントによる自律集計（大規模・先進的）

将来的には、人間がメールを開封する必要すらない。
Gemini や Claude といった AI エージェントが、受信トレイの Web/A 添付ファイルを自動的に検知・読み取りし、基幹システムへの登録や集計レポートの作成を自律的に行う。
「人間が見るための帳票（HTML）」と「AIが読むためのデータ（JSON）」が同居する Web/A は、AI エージェントにとって最も扱いやすい入力フォーマットとなる。

> **実践プロンプト例：自律集計**
> 「このフォルダに含まれる HTML ファイル（Web/A Form）をすべて読み込んでください。各ファイル内の `<script type="application/ld+json">` ブロックを解析し、共通するフィールド（特に "submissionDate", "orgName", "totalAmount"）を抽出して、1つのテーブルとして出力してください。」

---

## 6. 導入上の留意点と制約

Web/A Form は万能ではない。ファイルベースゆえの制約を理解した上で適用する必要がある。

### 6.1. 作業途中データの扱い（端末依存性）

SaaS と異なり、入力中のデータはクラウドではなく「ユーザーのブラウザ（ローカルストレージ）」に自動保存される。

- **制約**: 自動保存された「書きかけの状態」は、その作業を行っている端末（ブラウザ）の中にしか存在しない。配布された元の HTML ファイルをメールで転送しても、入力中のデータは引き継がれない。
- **対策**: 作業場所を変える場合や、他者に作業を引き継ぐ場合は、**「作業保存（Save Draft）」ボタン**を使用する。これにより、現在の入力状態を保持した新しい HTML ファイルが生成・ダウンロードされる。この「下書きファイル」を共有することで、別の端末でも作業を継続できる。

### 6.2. ファイルサイズの肥大化

すべてのリソース（画像、スクリプト、フォント）を1ファイルに埋め込むため、高解像度の写真を大量に添付するとファイルサイズが数MB〜数十MBになる可能性がある。

- **対策**: メール添付容量の制限（通常10MB〜25MB）を超える場合は、ドロップ・ゾーン（5.2節）の利用を推奨する。

---

## 7. 結論：適材適所のデジタル化

DX（デジタルトランスフォーメーション）は、すべての業務を一律に同じツールでカバーすることではない。
固定メンバーによる高頻度な業務には SaaS が最適であり、流動的なメンバーによる低頻度・多組織間の業務にはファイルベースのアプローチが適している。

**Web/A Form** は、ファイルの手軽さとWebの堅牢性を融合させることで、これまで SaaS ではカバーしきれなかった「業務の隙間」を埋め、全体最適を実現するための現実的かつ効果的なソリューションである。
